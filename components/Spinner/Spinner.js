import { useEffect, useState } from "react";
import styles from "./spinner.module.scss";

const Spinner = () => {
    const [activePathIndex, setActivePathIndex] = useState(0);
    const [activeDotIndex, setActiveDotIndex] = useState(0);
    const numPath = 12;
    const numDot = 3;

    useEffect(() => {
        const pathInterval = setInterval(() => {
            setActivePathIndex(prevIndex => (prevIndex + 1) % numPath);
        }, 200);
        return () => clearInterval(pathInterval);

    }, [numPath]);

    useEffect(() => {
        const dotInterval = setInterval(() => {
            setActiveDotIndex(prevIndex => (prevIndex + 1) % numDot);
        }, 200)
        return () => clearInterval(dotInterval);
    }, [])

    return (
        <div className={styles.container}>
            <svg width="224" height="224" viewBox="0 0 224 224" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill={activePathIndex === 0 ? 'white' : '#FFA33C'} d="M6.98388 106.045C6.98388 106.045 6.10394 106.972 6.05393 107.512C6.00403 108.054 6.30454 108.623 6.7342 108.75C7.10756 108.807 7.75621 108.198 7.7268 107.559C7.76707 107.124 6.98388 106.045 6.98388 106.045Z" />
                <path fill={activePathIndex === 0 ? 'white' : '#FFA33C'} d="M13.6304 109.59C13.6304 109.59 15.9191 102.965 13.6991 100.238C13.1235 100.736 12.357 105.215 12.357 105.215C12.357 105.215 11.0376 100.382 10.3827 100.783C9.72787 101.183 10.2504 106.041 10.2504 106.041C10.2504 106.041 8.71462 103.552 7.02514 103.686C5.23807 104.302 5.54994 106.888 4.59842 108.937C2.40869 110.665 1.73804 115.061 1.73804 115.061C1.73804 115.061 3.31018 112.374 4.29881 112.183C4.5367 112.475 2.92732 116.522 2.92732 116.522C5.27947 114.942 5.57923 110.744 8.95037 112.475C10.0437 114.019 10.2483 114.672 9.53955 116.612C9.53955 116.612 -4.07094 132.485 1.22255 140.73C4.76593 146.248 16.3008 147.603 16.3008 147.603C13.9134 146.515 3.57877 137.199 9.25747 123.493C9.25747 123.493 8.58685 127.89 9.15455 129.39C10.802 127.8 11.5813 124.139 11.5813 124.139C11.5813 124.139 12.6668 127.681 12.7049 130.137C13.0387 130.346 15.8373 127.76 14.2713 120.817C15.3296 115.09 15.511 114.108 13.6304 109.59Z" />
                <path fill={activePathIndex === 1 ? 'white' : '#FFA33C'} d="M27.1562 49.6336C27.1562 49.6336 25.9709 50.0693 25.6959 50.5328C25.4209 50.9967 25.4486 51.6446 25.7811 51.952C26.0925 52.1719 26.9344 51.9178 27.1796 51.3307C27.4011 50.9572 27.1562 49.6336 27.1562 49.6336Z" />
                <path fill={activePathIndex === 1 ? 'white' : '#FFA33C'} d="M31.6219 55.8227C31.6219 55.8227 36.4973 50.9019 35.6618 47.4484C34.9327 47.6357 32.3383 51.3155 32.3383 51.3155C32.3383 51.3155 33.2082 46.3757 32.4493 46.4397C31.6904 46.5037 30.0936 51.1062 30.0936 51.1062C30.0936 51.1062 29.7718 48.1756 28.1965 47.5324C26.3283 47.2787 25.5084 49.7443 23.7816 51.1559C21.0786 51.7195 18.6057 55.368 18.6057 55.368C18.6057 55.368 21.1617 53.6632 22.1316 53.938C22.2211 54.308 19.0533 57.2181 19.0533 57.2181C21.8396 56.8603 23.8946 53.223 26.1882 56.3019C26.5143 58.1832 26.4205 58.8623 24.958 60.2861C24.958 60.2861 5.97308 68.4038 7.22376 78.2055C8.06094 84.7666 17.8521 91.1954 17.8521 91.1954C16.1693 89.1387 10.8435 76.0964 21.7773 66.3436C21.7773 66.3436 19.3044 69.9922 19.1765 71.5971C21.3338 70.9118 23.5914 67.9736 23.5914 67.9736C23.5914 67.9736 23.0605 71.6472 22.05 73.872C22.261 74.2108 25.8764 73.1508 27.4221 66.2033C30.8096 61.5337 31.3903 60.7332 31.6219 55.8227Z" />
                <path fill={activePathIndex === 2 ? 'white' : '#FFA33C'} d="M70.4518 13.1815C70.4518 13.1815 69.2181 12.9258 68.7507 13.1772C68.2831 13.4288 67.9831 13.9989 68.1144 14.4389C68.2714 14.7926 69.1201 15.0217 69.6237 14.6485C70.0002 14.446 70.4518 13.1815 70.4518 13.1815Z" />
                <path fill={activePathIndex === 2 ? 'white' : '#FFA33C'} d="M71.1865 20.8569C71.1865 20.8569 77.8248 19.2266 78.8346 15.8229C78.1161 15.5965 74.0532 17.3736 74.0532 17.3736C74.0532 17.3736 77.2675 13.6011 76.5851 13.2532C75.9026 12.9053 72.2337 16.0028 72.2337 16.0028C72.2337 16.0028 73.4225 13.32 72.3936 11.9326C70.919 10.7235 68.984 12.4017 66.7984 12.6952C64.1998 11.7436 60.2567 13.5584 60.2567 13.5584C60.2567 13.5584 63.2996 13.4538 63.9936 14.2042C63.8855 14.5689 59.7157 15.3819 59.7157 15.3819C62.2829 16.5541 65.8621 14.527 66.2894 18.3835C65.6287 20.1692 65.2089 20.7015 63.2438 21.1458C63.2438 21.1458 42.9135 18.0273 39.087 27.0928C36.5256 33.1611 41.7053 43.8685 41.7053 43.8685C41.2907 41.2124 43.2438 27.2062 57.49 24.6498C57.49 24.6498 53.5469 26.4647 52.6351 27.7725C54.8268 28.3301 58.2303 27.0098 58.2303 27.0098C58.2303 27.0098 55.9393 29.8769 53.9613 31.2476C53.9729 31.65 57.6017 32.6604 62.3987 27.5256C67.636 25.321 68.5338 24.9431 71.1865 20.8569Z" />
                <path fill={activePathIndex === 3 ? 'white' : '#FFA33C'} d="M125.713 5.62472C125.713 5.62472 124.769 4.76765 124.242 4.74449C123.715 4.72146 123.179 5.06055 123.079 5.50933C123.043 5.89655 123.667 6.53224 124.284 6.46856C124.709 6.4872 125.713 5.62472 125.713 5.62472Z" />
                <path fill={activePathIndex === 3 ? 'white' : '#FFA33C'} d="M122.626 12.6504C122.626 12.6504 129.166 14.6591 131.692 12.2317C131.179 11.6654 126.798 11.111 126.798 11.111C126.798 11.111 131.412 9.50018 130.99 8.84721C130.568 8.19423 125.888 8.98628 125.888 8.98628C125.888 8.98628 128.219 7.27547 128.001 5.54375C127.311 3.73684 124.821 4.19316 122.785 3.32114C120.997 1.15803 116.701 0.697926 116.701 0.697926C116.701 0.697926 119.387 2.17526 119.624 3.18269C119.354 3.44279 115.348 1.99831 115.348 1.99831C117.003 4.33628 121.086 4.4251 119.585 7.98506C118.146 9.19109 117.524 9.43578 115.607 8.80791C115.607 8.80791 99.5135 -4.36844 91.8012 1.51078C86.6388 5.44625 85.9295 17.3881 85.9295 17.3881C86.8592 14.8742 95.3461 3.75086 108.924 8.87775C108.924 8.87775 104.629 8.41769 103.204 9.08045C104.832 10.6927 108.42 11.3031 108.42 11.3031C108.42 11.3031 105.045 12.6055 102.667 12.7733C102.482 13.1278 105.134 15.8726 111.78 13.8976C117.385 14.687 118.346 14.8223 122.626 12.6504Z" />
                <path fill={activePathIndex === 4 ? 'white' : '#FFA33C'} d="M177.358 29.7904C177.358 29.7904 177.04 28.5357 176.616 28.2129C176.192 27.8901 175.563 27.8621 175.237 28.1767C174.997 28.4772 175.17 29.3637 175.716 29.6665C176.057 29.9265 177.358 29.7904 177.358 29.7904Z" />
                <path fill={activePathIndex === 4 ? 'white' : '#FFA33C'} d="M170.986 33.8357C170.986 33.8357 175.318 39.2698 178.729 38.713C178.612 37.9482 175.281 34.964 175.281 34.964C175.281 34.964 179.98 36.2876 179.984 35.5029C179.989 34.7182 175.679 32.6778 175.679 32.6778C175.679 32.6778 178.54 32.6028 179.299 31.0416C179.707 29.1457 177.395 28.0891 176.181 26.1933C175.872 23.3692 172.56 20.5125 172.56 20.5125C172.56 20.5125 173.985 23.2851 173.635 24.2569C173.27 24.3166 170.733 20.8108 170.733 20.8108C170.836 23.7025 174.173 26.1291 170.997 28.2155C169.15 28.3863 168.501 28.2308 167.253 26.6053C167.253 26.6053 161.06 6.40734 151.476 6.83705C145.061 7.12469 137.993 16.6163 137.993 16.6163C140.128 15.0679 153.199 10.737 161.674 22.812C161.674 22.812 158.363 19.9553 156.822 19.684C157.297 21.9585 159.94 24.5323 159.94 24.5323C159.94 24.5323 156.436 23.6671 154.373 22.4358C154.027 22.6229 154.737 26.427 161.318 28.6194C165.536 32.504 166.26 33.1699 170.986 33.8357Z" />
                <path fill={activePathIndex === 5 ? 'white' : '#FFA33C'} d="M209.684 71.9806C209.684 71.9806 209.889 70.7011 209.629 70.2285C209.368 69.7557 208.805 69.4666 208.383 69.6172C208.045 69.7913 207.853 70.6733 208.232 71.1789C208.442 71.5597 209.684 71.9806 209.684 71.9806Z" />
                <path fill={activePathIndex === 5 ? 'white' : '#FFA33C'} d="M202.266 73.0052C202.266 73.0052 204.079 79.7853 207.415 80.7065C207.609 79.9585 205.744 75.8361 205.744 75.8361C205.744 75.8361 209.515 79.015 209.828 78.2999C210.142 77.5849 207.01 73.9143 207.01 73.9143C207.01 73.9143 209.653 75.045 210.963 73.937C212.084 72.3761 210.389 70.4418 210.028 68.2009C210.86 65.4914 208.962 61.4936 208.962 61.4936C208.962 61.4936 209.17 64.6239 208.467 65.3649C208.109 65.2662 207.175 61.0001 207.175 61.0001C206.128 63.685 208.219 67.3006 204.494 67.8753C202.739 67.2571 202.208 66.8433 201.709 64.8349C201.709 64.8349 204.023 43.7875 195.099 40.1628C189.124 37.7365 178.921 43.4449 178.921 43.4449C181.483 42.9253 195.134 44.4479 198.11 59.0313C198.11 59.0313 196.212 55.0335 194.912 54.1401C194.448 56.4168 195.847 59.8761 195.847 59.8761C195.847 59.8761 192.987 57.6166 191.589 55.6272C191.199 55.6532 190.345 59.4258 195.492 64.1872C197.813 69.5042 198.211 70.4157 202.266 73.0052Z" />
                <path fill={activePathIndex === 6 ? 'white' : '#FFA33C'} d="M218.035 124.51C218.035 124.51 218.883 123.551 218.915 123.009C218.946 122.466 218.627 121.908 218.193 121.797C217.818 121.754 217.19 122.385 217.241 123.022C217.216 123.459 218.035 124.51 218.035 124.51Z" />
                <path fill={activePathIndex === 6 ? 'white' : '#FFA33C'} d="M211.272 121.205C211.272 121.205 209.209 127.909 211.52 130.554C212.079 130.036 212.693 125.532 212.693 125.532C212.693 125.532 214.175 130.314 214.816 129.89C215.457 129.467 214.77 124.631 214.77 124.631C214.77 124.631 216.39 127.062 218.074 126.868C219.839 126.188 219.439 123.615 220.321 121.533C222.451 119.727 222.972 115.31 222.972 115.31C222.972 115.31 221.492 118.051 220.51 118.278C220.263 117.995 221.734 113.893 221.734 113.893C219.437 115.557 219.28 119.762 215.852 118.153C214.707 116.65 214.48 116.005 215.123 114.04C215.123 114.04 228.188 97.6877 222.618 89.6385C218.89 84.2504 207.316 83.3112 207.316 83.3112C209.739 84.313 220.383 93.252 215.172 107.153C215.172 107.153 215.693 102.735 215.075 101.256C213.482 102.905 212.828 106.592 212.828 106.592C212.828 106.592 211.623 103.091 211.502 100.638C211.161 100.441 208.452 103.126 210.252 110.008C209.388 115.77 209.24 116.758 211.272 121.205Z" />
                <path fill={activePathIndex === 7 ? 'white' : '#FFA33C'} d="M198.942 174.571C198.942 174.571 200.12 174.114 200.387 173.645C200.654 173.177 200.615 172.529 200.278 172.228C199.963 172.014 199.125 172.283 198.89 172.874C198.675 173.252 198.942 174.571 198.942 174.571Z" />
                <path fill={activePathIndex === 7 ? 'white' : '#FFA33C'} d="M194.372 168.463C194.372 168.463 189.581 173.471 190.475 176.909C191.201 176.708 193.732 172.982 193.732 172.982C193.732 172.982 192.946 177.937 193.704 177.859C194.462 177.782 195.98 173.151 195.98 173.151C195.98 173.151 196.352 176.075 197.938 176.69C199.81 176.91 200.588 174.43 202.29 172.988C204.983 172.376 207.394 168.683 207.394 168.683C207.394 168.683 204.868 170.434 203.893 170.177C203.797 169.808 206.915 166.842 206.915 166.842C204.136 167.249 202.143 170.923 199.797 167.886C199.439 166.011 199.521 165.33 200.96 163.88C200.96 163.88 219.804 155.422 218.388 145.645C217.44 139.1 207.541 132.848 207.541 132.848C209.258 134.874 214.804 147.819 204.037 157.766C204.037 157.766 206.448 154.074 206.549 152.467C204.403 153.191 202.196 156.169 202.196 156.169C202.196 156.169 202.664 152.487 203.637 150.244C203.42 149.909 199.823 151.034 198.396 158.008C195.088 162.738 194.521 163.549 194.372 168.463Z" />
                <path fill={activePathIndex === 8 ? 'white' : '#FFA33C'} d="M159.245 209.783C159.245 209.783 160.5 209.882 160.934 209.574C161.368 209.265 161.599 208.662 161.416 208.242C161.219 207.91 160.349 207.789 159.893 208.223C159.544 208.471 159.245 209.783 159.245 209.783Z" />
                <path fill={activePathIndex === 8 ? 'white' : '#FFA33C'} d="M157.608 202.257C157.608 202.257 151.212 204.709 150.612 208.214C151.352 208.349 155.175 206.075 155.175 206.075C155.175 206.075 152.43 210.223 153.149 210.482C153.867 210.742 157.143 207.207 157.143 207.207C157.143 207.207 156.28 210.019 157.465 211.267C159.072 212.282 160.794 210.373 162.929 209.807C165.62 210.425 169.319 208.129 169.319 208.129C169.319 208.129 166.312 208.615 165.534 207.957C165.598 207.582 169.641 206.251 169.641 206.251C166.954 205.41 163.641 207.871 162.761 204.097C163.206 202.242 163.559 201.661 165.457 200.973C165.457 200.973 186.005 201.515 188.731 192.036C190.556 185.692 184.148 175.715 184.148 175.715C184.874 178.299 184.592 192.446 170.754 196.772C170.754 196.772 174.453 194.476 175.203 193.063C172.962 192.785 169.74 194.523 169.74 194.523C169.74 194.523 171.675 191.39 173.476 189.781C173.417 189.383 169.696 188.836 165.542 194.535C160.604 197.381 159.758 197.868 157.608 202.257Z" />
                <path fill={activePathIndex === 9 ? 'white' : '#FFA33C'} d="M105.593 220.41C105.593 220.41 106.644 221.124 107.169 221.071C107.694 221.018 108.179 220.605 108.217 220.147C108.2 219.758 107.497 219.218 106.894 219.37C106.471 219.412 105.593 220.41 105.593 220.41Z" />
                <path fill={activePathIndex === 9 ? 'white' : '#FFA33C'} d="M107.702 213.01C107.702 213.01 100.954 211.959 98.7808 214.725C99.3648 215.212 103.778 215.133 103.778 215.133C103.778 215.133 99.4262 217.39 99.9325 217.976C100.439 218.562 104.966 217.106 104.966 217.106C104.966 217.106 102.889 219.135 103.339 220.819C104.266 222.509 106.671 221.7 108.804 222.272C110.867 224.157 115.183 223.997 115.183 223.997C115.183 223.997 112.323 222.919 111.953 221.955C112.186 221.659 116.347 222.515 116.347 222.515C114.393 220.437 110.338 220.935 111.343 217.194C112.605 215.793 113.188 215.462 115.171 215.809C115.171 215.809 132.888 226.548 139.731 219.62C144.312 214.983 143.401 203.055 143.401 203.055C142.82 205.678 135.918 217.911 121.78 214.781C121.78 214.781 126.095 214.62 127.416 213.76C125.587 212.397 121.951 212.307 121.951 212.307C121.951 212.307 125.118 210.533 127.45 210.026C127.585 209.648 124.588 207.311 118.274 210.22C112.617 210.242 111.647 210.246 107.702 213.01Z" />
                <path fill={activePathIndex === 10 ? 'white' : '#FFA33C'} d="M52.9015 200.028C52.9015 200.028 53.4458 201.198 53.922 201.431C54.3983 201.664 55.0207 201.568 55.2826 201.195C55.4622 200.853 55.1291 200.017 54.5368 199.827C54.1533 199.639 52.9015 200.028 52.9015 200.028Z" />
                <path fill={activePathIndex === 10 ? 'white' : '#FFA33C'} d="M58.4075 194.804C58.4075 194.804 53.149 190.322 49.9036 191.539C50.1606 192.267 53.9829 194.541 53.9829 194.541C53.9829 194.541 49.1249 194.166 49.266 194.937C49.4071 195.708 54.0156 196.864 54.0156 196.864C54.0156 196.864 51.2211 197.5 50.7651 199.182C50.7155 201.123 53.1805 201.706 54.7234 203.328C55.5497 206.039 59.3292 208.192 59.3292 208.192C59.3292 208.192 57.4169 205.751 57.5807 204.728C57.9284 204.598 61.0678 207.54 61.0678 207.54C60.4313 204.722 56.7064 202.996 59.4378 200.323C61.2193 199.793 61.8845 199.818 63.4114 201.168C63.4114 201.168 73.2298 219.777 82.558 217.471C88.8022 215.927 93.9828 205.22 93.9828 205.22C92.1739 207.159 80.1443 213.981 69.5896 203.794C69.5896 203.794 73.3691 205.948 74.9313 205.911C74.0445 203.772 70.973 201.765 70.973 201.765C70.973 201.765 74.5736 201.925 76.8262 202.728C77.1311 202.476 75.7303 198.882 68.8641 198.024C64.0037 195.04 63.1705 194.529 58.4075 194.804Z" />
                <path fill={activePathIndex === 11 ? 'white' : '#FFA33C'} d="M14.1085 162.536C14.1085 162.536 14.2101 163.829 14.5734 164.222C14.9369 164.616 15.5514 164.756 15.9256 164.505C16.2123 164.252 16.192 163.348 15.7052 162.952C15.4125 162.635 14.1085 162.536 14.1085 162.536Z" />
                <path fill={activePathIndex === 11 ? 'white' : '#FFA33C'} d="M21.0653 159.693C21.0653 159.693 17.7149 153.566 14.2617 153.504C14.2486 154.278 17.0261 157.813 17.0261 157.813C17.0261 157.813 12.6212 155.669 12.4848 156.441C12.3484 157.213 16.249 159.993 16.249 159.993C16.249 159.993 13.4189 159.555 12.4083 160.957C11.687 162.751 13.7857 164.205 14.6619 166.289C14.4905 169.126 17.2702 172.532 17.2702 172.532C17.2702 172.532 16.3339 169.546 16.8425 168.652C17.2125 168.659 19.1202 172.565 19.1202 172.565C19.5059 169.699 16.6286 166.712 20.108 165.226C21.9558 165.388 22.5681 165.657 23.5241 167.481C23.5241 167.481 26.2191 188.481 35.7298 189.773C42.0961 190.637 50.6559 182.555 50.6559 182.555C48.2926 183.698 34.6898 185.623 28.3785 172.215C28.3785 172.215 31.1582 175.621 32.6294 176.164C32.5454 173.839 30.3758 170.831 30.3758 170.831C30.3758 170.831 33.6816 172.311 35.5053 173.892C35.8775 173.77 35.8197 169.897 29.7079 166.56C26.2079 161.979 25.6079 161.194 21.0653 159.693Z" />
            </svg>
            <div className={styles.textBlock}>
                <p>Завантаження</p>
                <span className={activeDotIndex === 0 ? styles.activeDot : ''}>.</span>
                <span className={activeDotIndex === 1 ? styles.activeDot : ''}>.</span>
                <span className={activeDotIndex === 2 ? styles.activeDot : ''}>.</span>
            </div>
        </div>
    );
}

export default Spinner;